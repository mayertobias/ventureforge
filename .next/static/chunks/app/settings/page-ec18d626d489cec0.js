(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4662],{285:(e,s,a)=>{"use strict";a.d(s,{$:()=>d});var t=a(5155);a(2115);var r=a(9708),n=a(2085),i=a(9434);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:s,variant:a,size:n,asChild:d=!1,...c}=e,o=d?r.DX:"button";return(0,t.jsx)(o,{"data-slot":"button",className:(0,i.cn)(l({variant:a,size:n,className:s})),...c})}},333:(e,s,a)=>{"use strict";a.d(s,{d:()=>l});var t=a(5155),r=a(2115),n=a(4884),i=a(9434);let l=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.bL,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:s,children:(0,t.jsx)(n.zi,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});l.displayName=n.bL.displayName},1865:(e,s,a)=>{Promise.resolve().then(a.bind(a,4397))},2346:(e,s,a)=>{"use strict";a.d(s,{w:()=>i});var t=a(5155);a(2115);var r=a(7489),n=a(9434);function i(e){let{className:s,orientation:a="horizontal",decorative:i=!0,...l}=e;return(0,t.jsx)(r.b,{"data-slot":"separator",decorative:i,orientation:a,className:(0,n.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...l})}},2523:(e,s,a)=>{"use strict";a.d(s,{p:()=>n});var t=a(5155);a(2115);var r=a(9434);function n(e){let{className:s,type:a,...n}=e;return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...n})}},4165:(e,s,a)=>{"use strict";a.d(s,{Cf:()=>m,Es:()=>x,L3:()=>h,c7:()=>u,lG:()=>l,rr:()=>f,zM:()=>d});var t=a(5155);a(2115);var r=a(5452),n=a(4416),i=a(9434);function l(e){let{...s}=e;return(0,t.jsx)(r.bL,{"data-slot":"dialog",...s})}function d(e){let{...s}=e;return(0,t.jsx)(r.l9,{"data-slot":"dialog-trigger",...s})}function c(e){let{...s}=e;return(0,t.jsx)(r.ZL,{"data-slot":"dialog-portal",...s})}function o(e){let{className:s,...a}=e;return(0,t.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...a})}function m(e){let{className:s,children:a,showCloseButton:l=!0,...d}=e;return(0,t.jsxs)(c,{"data-slot":"dialog-portal",children:[(0,t.jsx)(o,{}),(0,t.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...d,children:[a,l&&(0,t.jsxs)(r.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(n.A,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",s),...a})}function x(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...a})}function h(e){let{className:s,...a}=e;return(0,t.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",s),...a})}function f(e){let{className:s,...a}=e;return(0,t.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",s),...a})}},4397:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>H});var t=a(5155),r=a(2115),n=a(2108),i=a(285),l=a(6695),d=a(2523),c=a(5057),o=a(6126),m=a(2346),u=a(333),x=a(5365),h=a(2098),f=a(3509),p=a(1362),g=a(8698),j=a(3052),v=a(5196),y=a(9428),b=a(9434);let N=g.bL,w=g.l9;g.YJ,g.ZL,g.Pb,g.z6,r.forwardRef((e,s)=>{let{className:a,inset:r,children:n,...i}=e;return(0,t.jsxs)(g.ZP,{ref:s,className:(0,b.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...i,children:[n,(0,t.jsx)(j.A,{className:"ml-auto"})]})}).displayName=g.ZP.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(g.G5,{ref:s,className:(0,b.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...r})}).displayName=g.G5.displayName;let k=r.forwardRef((e,s)=>{let{className:a,sideOffset:r=4,...n}=e;return(0,t.jsx)(g.ZL,{children:(0,t.jsx)(g.UC,{ref:s,sideOffset:r,className:(0,b.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...n})})});k.displayName=g.UC.displayName;let A=r.forwardRef((e,s)=>{let{className:a,inset:r,...n}=e;return(0,t.jsx)(g.q7,{ref:s,className:(0,b.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...n})});function S(){let{setTheme:e}=(0,p.D)();return(0,t.jsxs)(N,{children:[(0,t.jsx)(w,{asChild:!0,children:(0,t.jsxs)(i.$,{variant:"outline",size:"icon",children:[(0,t.jsx)(h.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,t.jsx)(f.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,t.jsxs)(k,{align:"end",children:[(0,t.jsx)(A,{onClick:()=>e("light"),children:"Light"}),(0,t.jsx)(A,{onClick:()=>e("dark"),children:"Dark"}),(0,t.jsx)(A,{onClick:()=>e("system"),children:"System"})]})]})}A.displayName=g.q7.displayName,r.forwardRef((e,s)=>{let{className:a,children:r,checked:n,...i}=e;return(0,t.jsxs)(g.H_,{ref:s,className:(0,b.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...i,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(g.VF,{children:(0,t.jsx)(v.A,{className:"h-4 w-4"})})}),r]})}).displayName=g.H_.displayName,r.forwardRef((e,s)=>{let{className:a,children:r,...n}=e;return(0,t.jsxs)(g.hN,{ref:s,className:(0,b.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(g.VF,{children:(0,t.jsx)(y.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=g.hN.displayName,r.forwardRef((e,s)=>{let{className:a,inset:r,...n}=e;return(0,t.jsx)(g.JU,{ref:s,className:(0,b.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...n})}).displayName=g.JU.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(g.wv,{ref:s,className:(0,b.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=g.wv.displayName;var C=a(5525),F=a(2657),E=a(1788),T=a(2919),O=a(2525),P=a(3837),R=a(1243),_=a(1154),z=a(7262),Z=a(4165);function D(){let[e,s]=(0,r.useState)(!1),[a,n]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),[o,m]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null),g=async()=>{c(!0),p(null);try{let e=await fetch("/api/user/export-all-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deleteAfterExport:!1})});if(!e.ok)throw Error("Failed to export data");let a=await e.json(),t=JSON.stringify(a.export,null,2),r="data:application/json;charset=utf-8,"+encodeURIComponent(t),n="ventureforge_full_export_".concat(new Date().toISOString().split("T")[0],".json"),i=document.createElement("a");i.setAttribute("href",r),i.setAttribute("download",n),i.click(),s(!1)}catch(e){p(e instanceof Error?e.message:"Export failed")}finally{c(!1)}},j=async()=>{if(!u)return void p("Please confirm account deletion");m(!0),p(null);try{let e=await fetch("/api/user/export-all-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deleteAfterExport:!0})});if(!e.ok)throw Error("Failed to delete account");let s=await e.json(),a=JSON.stringify(s.export,null,2),t="data:application/json;charset=utf-8,"+encodeURIComponent(a),r="ventureforge_final_export_".concat(new Date().toISOString().split("T")[0],".json"),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",r),n.click(),setTimeout(()=>{window.location.href="/"},2e3)}catch(e){p(e instanceof Error?e.message:"Account deletion failed")}finally{m(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Data Management"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage your personal data and exercise your privacy rights."})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(C.A,{className:"h-5 w-5 text-green-600"}),"Your Privacy Rights"]}),(0,t.jsx)(l.BT,{children:"VentureForge respects your privacy and gives you full control over your data."})]}),(0,t.jsx)(l.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(F.A,{className:"h-5 w-5 text-blue-500 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:"Data Transparency"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"See exactly what data we store about you"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(E.A,{className:"h-5 w-5 text-green-500 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:"Data Portability"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Export all your data in a standard format"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(T.A,{className:"h-5 w-5 text-purple-500 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:"Memory-Only Storage"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Sensitive data stored in memory only"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(O.A,{className:"h-5 w-5 text-red-500 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:"Right to be Forgotten"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Delete all your data permanently"})]})]})]})})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(E.A,{className:"h-5 w-5"}),"Export Your Data"]}),(0,t.jsx)(l.BT,{children:"Download a complete copy of all your VentureForge data including projects, AI responses, and usage history."})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:"Full Data Export"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Includes all projects, AI-generated content, account details, and usage history"})]}),(0,t.jsxs)(i.$,{onClick:()=>s(!0),variant:"outline",className:"shrink-0",children:[(0,t.jsx)(P.A,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})})]}),(0,t.jsxs)(l.Zp,{className:"border-red-200",children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{className:"flex items-center gap-2 text-red-600",children:[(0,t.jsx)(O.A,{className:"h-5 w-5"}),"Delete Account"]}),(0,t.jsx)(l.BT,{children:"Permanently delete your VentureForge account and all associated data."})]}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsxs)(x.Fc,{className:"mb-4",children:[(0,t.jsx)(R.A,{className:"h-4 w-4"}),(0,t.jsxs)(x.TN,{children:[(0,t.jsx)("strong",{children:"Warning:"})," This action cannot be undone. All your projects, AI responses, and account data will be permanently deleted from our systems."]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:"Complete Account Deletion"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"We'll export your data first, then permanently delete everything"})]}),(0,t.jsxs)(i.$,{onClick:()=>n(!0),variant:"destructive",className:"shrink-0",children:[(0,t.jsx)(O.A,{className:"h-4 w-4 mr-2"}),"Delete Account"]})]})]})]}),(0,t.jsx)(Z.lG,{open:e,onOpenChange:s,children:(0,t.jsxs)(Z.Cf,{children:[(0,t.jsxs)(Z.c7,{children:[(0,t.jsx)(Z.L3,{children:"Export All Your Data"}),(0,t.jsx)(Z.rr,{children:"This will create a comprehensive export of all your VentureForge data."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Export includes:"}),(0,t.jsxs)("ul",{className:"space-y-1 text-sm text-gray-600",children:[(0,t.jsx)("li",{children:"• Account information and preferences"}),(0,t.jsx)("li",{children:"• All project data and AI-generated content"}),(0,t.jsx)("li",{children:"• Usage history and credit transactions"}),(0,t.jsx)("li",{children:"• Privacy settings and compliance records"})]})]}),f&&(0,t.jsxs)(x.Fc,{variant:"destructive",children:[(0,t.jsx)(R.A,{className:"h-4 w-4"}),(0,t.jsx)(x.TN,{children:f})]})]}),(0,t.jsxs)(Z.Es,{children:[(0,t.jsx)(i.$,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),(0,t.jsx)(i.$,{onClick:g,disabled:d,children:d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Exporting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.A,{className:"h-4 w-4 mr-2"}),"Export Data"]})})]})]})}),(0,t.jsx)(Z.lG,{open:a,onOpenChange:n,children:(0,t.jsxs)(Z.Cf,{children:[(0,t.jsxs)(Z.c7,{children:[(0,t.jsx)(Z.L3,{className:"text-red-600",children:"Delete Your Account"}),(0,t.jsx)(Z.rr,{children:"This will permanently delete your VentureForge account and all data."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(x.Fc,{variant:"destructive",children:[(0,t.jsx)(R.A,{className:"h-4 w-4"}),(0,t.jsxs)(x.TN,{children:[(0,t.jsx)("strong",{children:"This action cannot be undone."})," All your projects, AI responses, account data, and usage history will be permanently deleted."]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"What happens:"}),(0,t.jsxs)("ul",{className:"space-y-1 text-sm text-gray-600",children:[(0,t.jsx)("li",{children:"1. We'll export all your data for download"}),(0,t.jsx)("li",{children:"2. All projects will be permanently deleted"}),(0,t.jsx)("li",{children:"3. Your account will be completely removed"}),(0,t.jsx)("li",{children:"4. You'll be automatically logged out"})]})]}),(0,t.jsxs)("div",{className:"flex items-top space-x-2",children:[(0,t.jsx)(z.S,{id:"confirm-account-deletion",checked:u,onCheckedChange:e=>h(e)}),(0,t.jsx)("label",{htmlFor:"confirm-account-deletion",className:"text-sm leading-5",children:"I understand this action is permanent and I want to delete my account and all data."})]}),f&&(0,t.jsxs)(x.Fc,{variant:"destructive",children:[(0,t.jsx)(R.A,{className:"h-4 w-4"}),(0,t.jsx)(x.TN,{children:f})]})]}),(0,t.jsxs)(Z.Es,{children:[(0,t.jsx)(i.$,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),(0,t.jsx)(i.$,{variant:"destructive",onClick:j,disabled:o||!u,children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(O.A,{className:"h-4 w-4 mr-2"}),"Delete Account"]})})]})]})})]})}var B=a(1007),J=a(1586),L=a(3550),M=a(7951),W=a(1539),I=a(646),Y=a(4213),$=a(1284),U=a(381),V=a(4229),G=a(3861),X=a(3127),q=a(4835);function H(){var e,s,a;let{data:h}=(0,n.useSession)(),[f,p]=(0,r.useState)(null),[g,j]=(0,r.useState)(!0),[v,y]=(0,r.useState)(!1),[b,N]=(0,r.useState)(!1),[w,k]=(0,r.useState)({email:!0,browser:!1,marketing:!1});(0,r.useEffect)(()=>{h&&A()},[h]);let A=async()=>{try{let e=await fetch("/api/user/preferences");if(e.ok){let s=await e.json();p(s),k({email:s.preferences.emailNotifications,browser:s.preferences.exportNotifications,marketing:!s.preferences.marketingOptOut})}}catch(e){console.error("Failed to fetch preferences:",e)}finally{j(!1)}},F=(e,s)=>{if(f){if("allowPersistentStorage"===e)p({...f,allowPersistentStorage:s,defaultStorageMode:s?"PERSISTENT":"MEMORY_ONLY"});else if(e.startsWith("preferences.")){let a=e.replace("preferences.","");p({...f,preferences:{...f.preferences,[a]:s}}),"emailNotifications"===a?k(e=>({...e,email:s})):"exportNotifications"===a?k(e=>({...e,browser:s})):"marketingOptOut"===a&&k(e=>({...e,marketing:!s}))}}},E=async()=>{if(f){y(!0);try{if((await fetch("/api/user/preferences",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).ok)N(!0),setTimeout(()=>N(!1),3e3);else throw Error("Failed to save preferences")}catch(e){console.error("Failed to save preferences:",e),alert("Failed to save preferences. Please try again.")}finally{y(!1)}}},T=(e,s)=>{k(a=>({...a,[e]:s})),"email"===e?F("preferences.emailNotifications",s):"browser"===e?F("preferences.exportNotifications",s):"marketing"===e&&F("preferences.marketingOptOut",!s)};return g?(0,t.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,t.jsxs)("div",{className:"flex-1 space-y-6 p-8",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences"})]}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(B.A,{className:"h-5 w-5"}),"Profile Information"]}),(0,t.jsx)(l.BT,{children:"Update your personal information and preferences"})]}),(0,t.jsxs)(l.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"name",children:"Full Name"}),(0,t.jsx)(d.p,{id:"name",value:(null==h||null==(e=h.user)?void 0:e.name)||"",placeholder:"Enter your full name"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"email",children:"Email Address"}),(0,t.jsx)(d.p,{id:"email",type:"email",value:(null==h||null==(s=h.user)?void 0:s.email)||"",disabled:!0,className:"bg-gray-50"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed as it's linked to your OAuth account"})]}),(0,t.jsx)(i.$,{children:"Save Changes"})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(J.A,{className:"h-5 w-5"}),"Subscription & Billing"]}),(0,t.jsx)(l.BT,{children:"Manage your subscription and billing information"})]}),(0,t.jsxs)(l.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Current Plan"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Free Plan"})]}),(0,t.jsxs)(o.E,{variant:"outline",children:[(0,t.jsx)(L.A,{className:"h-3 w-3 mr-1"}),"Free"]})]}),(0,t.jsx)(m.w,{}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Forge Credits"}),(0,t.jsx)("span",{className:"font-medium",children:"100 remaining"})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"80%"}})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(i.$,{className:"w-full",children:[(0,t.jsx)(M.A,{className:"h-4 w-4 mr-2"}),"Upgrade to Pro"]}),(0,t.jsxs)(i.$,{variant:"outline",className:"w-full",children:[(0,t.jsx)(W.A,{className:"h-4 w-4 mr-2"}),"Buy More Credits"]})]})]})]}),(0,t.jsxs)(l.Zp,{className:"md:col-span-2",children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(C.A,{className:"h-5 w-5"}),"Privacy & Storage Settings"]}),(0,t.jsx)(l.BT,{children:"Control how your data is stored and managed by VentureForge"})]}),(0,t.jsxs)(l.Wu,{className:"space-y-6",children:[b&&(0,t.jsxs)(x.Fc,{className:"border-green-200 bg-green-50",children:[(0,t.jsx)(I.A,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)(x.XL,{className:"text-green-800",children:"Settings Saved"}),(0,t.jsx)(x.TN,{className:"text-green-700",children:"Your preferences have been updated successfully."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(c.J,{className:"text-base font-medium",children:"Persistent Storage"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Allow your project data to be saved permanently in our secure database"}),(0,t.jsx)("div",{className:"flex items-center gap-2 mt-2",children:f&&(0,t.jsx)(o.E,{variant:f.allowPersistentStorage?"default":"secondary",children:f.allowPersistentStorage?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Y.A,{className:"h-3 w-3 mr-1"}),"Persistent Storage Enabled"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.A,{className:"h-3 w-3 mr-1"}),"Memory-Only Mode"]})})})]}),f&&(0,t.jsx)(u.d,{checked:f.allowPersistentStorage,onCheckedChange:e=>F("allowPersistentStorage",e)})]}),f&&!f.allowPersistentStorage&&(0,t.jsxs)(x.Fc,{children:[(0,t.jsx)($.A,{className:"h-4 w-4"}),(0,t.jsx)(x.XL,{children:"Privacy-First Mode Active"}),(0,t.jsx)(x.TN,{children:"Your projects will be stored in memory only and automatically deleted after 24 hours. Remember to export your projects regularly to avoid data loss."})]}),f&&f.allowPersistentStorage&&(0,t.jsxs)(x.Fc,{children:[(0,t.jsx)(Y.A,{className:"h-4 w-4"}),(0,t.jsx)(x.XL,{children:"Persistent Storage Enabled"}),(0,t.jsx)(x.TN,{children:"Your projects will be saved securely in our database and remain accessible until you delete them. You can change back to memory-only mode at any time."})]}),(0,t.jsx)(m.w,{}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(c.J,{className:"text-base font-medium",children:"Analytics Opt-Out"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Disable anonymous usage analytics"})]}),f&&(0,t.jsx)(u.d,{checked:f.preferences.analyticsOptOut,onCheckedChange:e=>F("preferences.analyticsOptOut",e)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(c.J,{className:"text-base font-medium",children:"Auto-Save Projects"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Automatically save your progress as you work"})]}),f&&(0,t.jsx)(u.d,{checked:f.preferences.autoSaveEnabled,onCheckedChange:e=>F("preferences.autoSaveEnabled",e)})]})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(i.$,{onClick:E,disabled:v||!f,className:"bg-blue-600 hover:bg-blue-700",children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):b?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.A,{className:"h-4 w-4 mr-2"}),"Saved"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(V.A,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(G.A,{className:"h-5 w-5"}),"Notifications"]}),(0,t.jsx)(l.BT,{children:"Configure how you receive notifications"})]}),(0,t.jsxs)(l.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(c.J,{children:"Email Notifications"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive updates about your projects via email"})]}),(0,t.jsx)(u.d,{checked:w.email,onCheckedChange:e=>T("email",e)})]}),(0,t.jsx)(m.w,{}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(c.J,{children:"Export Notifications"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Get notified when project exports are ready"})]}),(0,t.jsx)(u.d,{checked:w.browser,onCheckedChange:e=>T("browser",e)})]}),(0,t.jsx)(m.w,{}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(c.J,{children:"Marketing Updates"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive news about new features and updates"})]}),(0,t.jsx)(u.d,{checked:w.marketing,onCheckedChange:e=>T("marketing",e)})]})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(X.A,{className:"h-5 w-5"}),"Appearance"]}),(0,t.jsx)(l.BT,{children:"Customize the look and feel of your workspace"})]}),(0,t.jsx)(l.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(c.J,{children:"Theme"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Choose your preferred color scheme"})]}),(0,t.jsx)(S,{})]})})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(C.A,{className:"h-5 w-5"}),"Security"]}),(0,t.jsx)(l.BT,{children:"Manage your account security settings"})]}),(0,t.jsxs)(l.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{children:"Connected Accounts"}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white text-sm font-semibold",children:"G"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Google"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:null==h||null==(a=h.user)?void 0:a.email})]})]}),(0,t.jsx)(o.E,{variant:"secondary",children:"Connected"})]})]}),(0,t.jsx)(m.w,{}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(c.J,{children:"Account Actions"}),(0,t.jsxs)(i.$,{variant:"outline",onClick:()=>(0,n.signOut)(),className:"w-full text-red-600 border-red-200 hover:bg-red-50",children:[(0,t.jsx)(q.A,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})]})]}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(D,{})})]})}},5057:(e,s,a)=>{"use strict";a.d(s,{J:()=>i});var t=a(5155);a(2115);var r=a(968),n=a(9434);function i(e){let{className:s,...a}=e;return(0,t.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...a})}},5365:(e,s,a)=>{"use strict";a.d(s,{Fc:()=>d,TN:()=>o,XL:()=>c});var t=a(5155),r=a(2115),n=a(2085),i=a(9434);let l=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=r.forwardRef((e,s)=>{let{className:a,variant:r,...n}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,i.cn)(l({variant:r}),a),...n})});d.displayName="Alert";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h5",{ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",a),...r})});c.displayName="AlertTitle";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",a),...r})});o.displayName="AlertDescription"},6126:(e,s,a)=>{"use strict";a.d(s,{E:()=>d});var t=a(5155);a(2115);var r=a(9708),n=a(2085),i=a(9434);let l=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:a,asChild:n=!1,...d}=e,c=n?r.DX:"span";return(0,t.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(l({variant:a}),s),...d})}},6695:(e,s,a)=>{"use strict";a.d(s,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>i});var t=a(5155);a(2115);var r=a(9434);function n(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...a})}function i(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...a})}function l(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",s),...a})}function d(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",s),...a})}function c(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",s),...a})}},7262:(e,s,a)=>{"use strict";a.d(s,{S:()=>d});var t=a(5155),r=a(2115),n=a(6981),i=a(5196),l=a(9434);let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.bL,{ref:s,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,t.jsx)(n.C1,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})})});d.displayName=n.bL.displayName},9434:(e,s,a)=>{"use strict";a.d(s,{cn:()=>n});var t=a(2596),r=a(9688);function n(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.QP)((0,t.$)(s))}}},e=>{e.O(0,[3455,9789,4428,2108,501,702,8441,5964,7358],()=>e(e.s=1865)),_N_E=e.O()}]);