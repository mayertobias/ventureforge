"use strict";exports.id=8105,exports.ids=[8105],exports.modules={56896:(a,b,c)=>{c.d(b,{S:()=>i});var d=c(60687),e=c(43210),f=c(40211),g=c(13964),h=c(4780);let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.bL,{ref:c,className:(0,h.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...b,children:(0,d.jsx)(f.C1,{className:(0,h.cn)("flex items-center justify-center text-current"),children:(0,d.jsx)(g.A,{className:"h-4 w-4"})})}));i.displayName=f.bL.displayName},63503:(a,b,c)=>{c.d(b,{Cf:()=>l,Es:()=>n,L3:()=>o,c7:()=>m,lG:()=>h,rr:()=>p,zM:()=>i});var d=c(60687);c(43210);var e=c(26134),f=c(11860),g=c(4780);function h({...a}){return(0,d.jsx)(e.bL,{"data-slot":"dialog",...a})}function i({...a}){return(0,d.jsx)(e.l9,{"data-slot":"dialog-trigger",...a})}function j({...a}){return(0,d.jsx)(e.ZL,{"data-slot":"dialog-portal",...a})}function k({className:a,...b}){return(0,d.jsx)(e.hJ,{"data-slot":"dialog-overlay",className:(0,g.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function l({className:a,children:b,showCloseButton:c=!0,...h}){return(0,d.jsxs)(j,{"data-slot":"dialog-portal",children:[(0,d.jsx)(k,{}),(0,d.jsxs)(e.UC,{"data-slot":"dialog-content",className:(0,g.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...h,children:[b,c&&(0,d.jsxs)(e.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,d.jsx)(f.A,{}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"dialog-header",className:(0,g.cn)("flex flex-col gap-2 text-center sm:text-left",a),...b})}function n({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"dialog-footer",className:(0,g.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...b})}function o({className:a,...b}){return(0,d.jsx)(e.hE,{"data-slot":"dialog-title",className:(0,g.cn)("text-lg leading-none font-semibold",a),...b})}function p({className:a,...b}){return(0,d.jsx)(e.VY,{"data-slot":"dialog-description",className:(0,g.cn)("text-muted-foreground text-sm",a),...b})}},78105:(a,b,c)=>{c.d(b,{E:()=>y});var d=c(60687),e=c(43210),f=c(96474),g=c(56085),h=c(70334),i=c(15807),j=c(99891),k=c(61611),l=c(48730),m=c(29523),n=c(63503),o=c(89667),p=c(80013),q=c(14555),r=c(65822),s=c(4780);let t=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(q.bL,{className:(0,s.cn)("grid gap-2",a),...b,ref:c}));t.displayName=q.bL.displayName;let u=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(q.q7,{ref:c,className:(0,s.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...b,children:(0,d.jsx)(q.C1,{className:"flex items-center justify-center",children:(0,d.jsx)(r.A,{className:"h-2.5 w-2.5 fill-current text-current"})})}));u.displayName=q.q7.displayName;var v=c(91821),w=c(56896),x=c(82136);function y({hasExistingProjects:a=!1}){let{data:b}=(0,x.useSession)(),[c,q]=e.useState(!1),[r,s]=e.useState(""),[y,z]=e.useState("MEMORY_ONLY"),[A,B]=e.useState(!1),[C,D]=e.useState(!1),[E,F]=e.useState(null);e.useEffect(()=>{c&&b?.user&&G()},[c,b]);let G=async()=>{try{let a=await fetch("/api/user/preferences");if(a.ok){let b=await a.json();F(b),b.allowPersistentStorage&&b.defaultStorageMode&&z(b.defaultStorageMode)}}catch(a){console.error("Failed to fetch user preferences:",a)}},H=async()=>{if(r.trim()){if("MEMORY_ONLY"===y&&!A)return void alert("Please confirm that you understand memory-only storage before creating the project.");D(!0);try{let a=await fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,persistentStorage:"PERSISTENT"===y})});if(!a.ok)throw Error("Failed to create project");let{project:b}=await a.json();q(!1),I(),window.location.href=`/projects/${b.id}`}catch(a){console.error("Error creating project:",a),alert("Failed to create project. Please try again.")}finally{D(!1)}}},I=()=>{s(""),z("MEMORY_ONLY"),B(!1)},J=a=>{q(a),a||I()};return(0,d.jsxs)(n.lG,{open:c,onOpenChange:J,children:[(0,d.jsx)(n.zM,{asChild:!0,children:(0,d.jsx)(m.$,{className:`${a?"justify-center":"w-full justify-center"} bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg hover:shadow-xl transition-all duration-200`,size:a?"default":"lg",children:a?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"New Project"]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.A,{className:"mr-2 h-5 w-5"}),"Start Your First Project",(0,d.jsx)(h.A,{className:"ml-2 h-4 w-4"})]})})}),(0,d.jsxs)(n.Cf,{className:"sm:max-w-[500px]",children:[(0,d.jsxs)(n.c7,{className:"text-center space-y-4",children:[(0,d.jsx)("div",{className:"mx-auto p-3 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-xl",children:(0,d.jsx)(i.A,{className:"h-8 w-8 text-blue-600 mx-auto"})}),(0,d.jsx)(n.L3,{className:"text-2xl font-bold text-gray-900",children:"Turn Your Idea Into Reality"}),(0,d.jsx)(n.rr,{className:"text-base text-gray-600",children:"Give your project a memorable name. This will be the foundation of your business venture."})]}),(0,d.jsxs)("div",{className:"space-y-6 py-6",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(p.J,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Project Name"}),(0,d.jsx)(o.p,{id:"name",value:r,onChange:a=>s(a.target.value),placeholder:"e.g., EcoFriendly Food Delivery App",className:"h-12 text-base border-2 focus:border-blue-500 transition-colors",onKeyDown:a=>{"Enter"!==a.key||C||H()}}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Choose a name that reflects your vision and target market"})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)(p.J,{className:"text-sm font-medium text-gray-700",children:"Data Storage Preference"}),(0,d.jsx)(t,{value:y,onValueChange:a=>z(a),children:(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)(u,{value:"MEMORY_ONLY",id:"memory-only",className:"mt-1"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)(p.J,{htmlFor:"memory-only",className:"cursor-pointer",children:(0,d.jsxs)("div",{className:"flex items-center gap-2 font-medium",children:[(0,d.jsx)(j.A,{className:"h-4 w-4 text-green-600"}),"Memory Only (Recommended)"]})}),(0,d.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Maximum privacy - your data is stored temporarily in memory only"})]})]}),(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)(u,{value:"PERSISTENT",id:"persistent",className:"mt-1",disabled:!E?.allowPersistentStorage}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)(p.J,{htmlFor:"persistent",className:`cursor-pointer ${!E?.allowPersistentStorage?"opacity-50":""}`,children:(0,d.jsxs)("div",{className:"flex items-center gap-2 font-medium",children:[(0,d.jsx)(k.A,{className:"h-4 w-4 text-blue-600"}),"Persistent Storage",!E?.allowPersistentStorage&&(0,d.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded",children:"Disabled"})]})}),(0,d.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:E?.allowPersistentStorage?"Your data will be saved in our secure database for easy access":"Enable persistent storage in your account settings to use this option"})]})]})]})})]}),"MEMORY_ONLY"===y&&(0,d.jsxs)(v.Fc,{children:[(0,d.jsx)(l.A,{className:"h-4 w-4"}),(0,d.jsx)(v.XL,{children:"Privacy-First Storage"}),(0,d.jsxs)(v.TN,{className:"space-y-3",children:[(0,d.jsx)("p",{className:"text-sm",children:"With memory-only storage, your project data:"}),(0,d.jsxs)("ul",{className:"text-xs space-y-1 ml-4",children:[(0,d.jsx)("li",{children:"• Is stored temporarily in your browser session"}),(0,d.jsx)("li",{children:"• Expires after 24 hours automatically"}),(0,d.jsx)("li",{children:"• Can be exported at any time as a download"}),(0,d.jsx)("li",{children:"• Will be permanently deleted when you close your browser"})]}),(0,d.jsxs)("div",{className:"flex items-top space-x-2 mt-3",children:[(0,d.jsx)(w.S,{id:"understand-memory",checked:A,onCheckedChange:a=>B(a)}),(0,d.jsx)(p.J,{htmlFor:"understand-memory",className:"text-xs leading-4",children:"I understand that my data will not be permanently saved and I should export my project regularly."})]})]})]}),(0,d.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,d.jsx)("h4",{className:"font-semibold text-blue-900 text-sm mb-2",children:"What happens next?"}),(0,d.jsxs)("div",{className:"space-y-2 text-sm text-blue-800",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mr-2"}),"AI will analyze your idea and generate insights"]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mr-2"}),"Get market research and competitive analysis"]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mr-2"}),"Receive a complete business plan and strategy"]})]})]})]}),(0,d.jsxs)(n.Es,{className:"space-x-3",children:[(0,d.jsx)(m.$,{variant:"outline",onClick:()=>J(!1),disabled:C,children:"Cancel"}),(0,d.jsx)(m.$,{type:"submit",onClick:H,disabled:!r.trim()||C||"MEMORY_ONLY"===y&&!A,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:C?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Your Project..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Create Project"]})})]})]})]})}},80013:(a,b,c)=>{c.d(b,{J:()=>g});var d=c(60687);c(43210);var e=c(78148),f=c(4780);function g({className:a,...b}){return(0,d.jsx)(e.b,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...b})}},91821:(a,b,c)=>{c.d(b,{Fc:()=>i,TN:()=>k,XL:()=>j});var d=c(60687),e=c(43210),f=c(24224),g=c(4780);let h=(0,f.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=e.forwardRef(({className:a,variant:b,...c},e)=>(0,d.jsx)("div",{ref:e,role:"alert",className:(0,g.cn)(h({variant:b}),a),...c}));i.displayName="Alert";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("h5",{ref:c,className:(0,g.cn)("mb-1 font-medium leading-none tracking-tight",a),...b}));j.displayName="AlertTitle";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,g.cn)("text-sm [&_p]:leading-relaxed",a),...b}));k.displayName="AlertDescription"}};